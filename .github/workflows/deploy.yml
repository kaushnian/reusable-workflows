on:
  workflow_call:
    inputs:
      username:
        required: true
        type: string
    secrets:
      env:
        required: true

jobs:
  test:
    name: Build and Test
    runs-on: ubuntu-latest
    steps:
      - name: Run Tests
        run: ''

  deploy:
    name: Deploy
    runs-on: ubuntu-latest
    needs: test
    steps:
      - name: Configure AWS credentials
        run: echo ${{inputs.username}}, ${{secrets.env}}
      - name: Login to Amazon ECR
        run: ''
      - name: Set the workflow environment vars (DEV)
        run: ''
      - name: Build, tag, and push the image to Amazon ECR
        run: ''
      - name: Pull and run the container on EC2 instance
        run: ''
